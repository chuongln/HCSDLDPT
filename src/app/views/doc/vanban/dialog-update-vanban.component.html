<form [formGroup]="vanBanForm" (ngSubmit)="onSubmit()" novalidate>
  <div mat-dialog-content>
    <h2 mat-dialog-title translate>VanBan</h2>
    <div class="form-group field">
      <label translate>soHieu</label>
      <div class="control">
        <input class="form-control input is-primary" formControlName="soHieu"
          [ngClass]="{ 'is-invalid': submitted && f.soHieu.errors }" />
        <div *ngIf="submitted && f.soHieu.errors" class="help is-danger">
          <div *ngIf="f.soHieu.errors.required" translate>soHieu is required</div>
        </div>
      </div>
    </div>
    <div class="form-group field">
      <label translate>soVaoSo</label>
      <div class="control">
        <input class="form-control input is-primary" formControlName="soVaoSo"
          [ngClass]="{ 'is-invalid': submitted && f.soVaoSo.errors }" />
        <div *ngIf="submitted && f.soVaoSo.errors" class="help is-danger">
          <div *ngIf="f.soVaoSo.errors.required" translate>soVaoSo is required</div>
        </div>
      </div>
    </div>
    <div class="form-group field">
      <label translate>trichYeu</label>
      <div class="control">
        <quill-editor formControlName="trichYeu"></quill-editor>
        <div *ngIf="submitted && f.trichYeu.errors" class="help is-danger">
          <div *ngIf="f.trichYeu.errors.required" translate>trichYeu is required</div>
        </div>
      </div>
    </div>
    <div class="form-group field">
      <label translate>tomTat</label>
      <div class="control">
        <quill-editor formControlName="tomTat"></quill-editor>
        <div *ngIf="submitted && f.tomTat.errors" class="help is-danger">
          <div *ngIf="f.tomTat.errors.required" translate>tomTat is required</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-md-4">
        <label translate>loaiVanBan</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_dm_loaiVanBan"
            [ngClass]="{ 'is-invalid': submitted && f.id_dm_loaiVanBan.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let loaiVanBan of loaiVanBans" [value]="loaiVanBan.value">
              {{loaiVanBan.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_dm_loaiVanBan.errors" class="help is-danger">
            <div *ngIf="f.id_dm_loaiVanBan.errors.required" translate>loaiVanBan is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label translate>linhVucVanBan</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_dm_linhVucVanBan"
            [ngClass]="{ 'is-invalid': submitted && f.id_dm_linhVucVanBan.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let linhVucVanBan of linhVucVanBans" [value]="linhVucVanBan.value">
              {{linhVucVanBan.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_dm_linhVucVanBan.errors" class="help is-danger">
            <div *ngIf="f.id_dm_linhVucVanBan.errors.required" translate>linhVucVanBan is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label translate>coQuanBanHanh</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_dm_coQuanBanHanh"
            [ngClass]="{ 'is-invalid': submitted && f.id_dm_coQuanBanHanh.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let coQuanBanHanh of coQuanBanHanhs" [value]="coQuanBanHanh.value">
              {{coQuanBanHanh.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_dm_coQuanBanHanh.errors" class="help is-danger">
            <div *ngIf="f.id_dm_coQuanBanHanh.errors.required" translate>coQuanBanHanh is required</div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-md-4">
        <label translate>mucDoKhan</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_dm_mucDoKhan"
            [ngClass]="{ 'is-invalid': submitted && f.id_dm_mucDoKhan.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let mucDoKhan of mucDoKhans" [value]="mucDoKhan.value">
              {{mucDoKhan.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_dm_mucDoKhan.errors" class="help is-danger">
            <div *ngIf="f.id_dm_mucDoKhan.errors.required" translate>mucDoKhan is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label translate>mucDoMat</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_dm_mucDoMat"
            [ngClass]="{ 'is-invalid': submitted && f.id_dm_mucDoMat.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let mucDoMat of mucDoMats" [value]="mucDoMat.value">
              {{mucDoMat.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_dm_mucDoMat.errors" class="help is-danger">
            <div *ngIf="f.id_dm_mucDoMat.errors.required" translate>mucDoMat is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label translate>hinhThucGuiNhan</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_dm_hinhThucGuiNhan"
            [ngClass]="{ 'is-invalid': submitted && f.id_dm_hinhThucGuiNhan.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let hinhThucGuiNhan of hinhThucGuiNhans" [value]="hinhThucGuiNhan.value">
              {{hinhThucGuiNhan.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_dm_hinhThucGuiNhan.errors" class="help is-danger">
            <div *ngIf="f.id_dm_hinhThucGuiNhan.errors.required" translate>hinhThucGuiNhan is required</div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-md-6">
        <label translate>ngayBanHanh</label>
        <div class="control">
          <input type="date" class="form-control input is-primary" formControlName="ngayBanHanh"
            [ngClass]="{ 'is-invalid': submitted && f.ngayBanHanh.errors }" />
          <div *ngIf="submitted && f.ngayBanHanh.errors" class="help is-danger">
            <div *ngIf="f.ngayBanHanh.errors.required" translate>ngayBanHanh is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <label translate>ngayHetHieuLuc</label>
        <div class="control">
          <input type="date" class="form-control input is-primary" formControlName="ngayHetHieuLuc"
            [ngClass]="{ 'is-invalid': submitted && f.ngayHetHieuLuc.errors }" />
          <div *ngIf="submitted && f.ngayHetHieuLuc.errors" class="help is-danger">
            <div *ngIf="f.ngayHetHieuLuc.errors.required" translate>ngayHetHieuLuc is required</div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-md-4">
        <label translate>isDonViNgoai</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="isDonViNgoai"
            [ngClass]="{ 'is-invalid': submitted && f.isDonViNgoai.errors }">
            <mat-option [value]=1>
              <div translate>Yes</div>
            </mat-option>
            <mat-option [value]=0 translate>
              <div translate>No</div>
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.isDonViNgoai.errors" class="help is-danger">
            <div *ngIf="f.isDonViNgoai.errors.required" translate>isDonViNgoai is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4" *ngIf="f.isDonViNgoai.value==1">
        <label translate>id_donvi</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_donvi_thucHien"
            [ngClass]="{ 'is-invalid': submitted && f.id_donvi_thucHien.errors }"
            (selectionChange)="getCanBoDonViNgoai()">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let donViNgoai of donViNgoais" [value]="donViNgoai.value">
              {{donViNgoai.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_donvi_thucHien.errors" class="help is-danger">
            <div *ngIf="f.id_donvi_thucHien.errors.required" translate>id_donvi is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4" *ngIf="f.isDonViNgoai.value==1 && f.id_donvi_thucHien.value ">
        <label translate>id_canbo_ThucHien</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_canbo_ThucHien"
            [ngClass]="{ 'is-invalid': submitted && f.id_canbo_ThucHien.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let canBoNgoai of canBoNgoais" [value]="canBoNgoai.value">
              {{canBoNgoai.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_canbo_ThucHien.errors" class="help is-danger">
            <div *ngIf="f.id_canbo_ThucHien.errors.required" translate>id_canbo is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4" *ngIf="f.isDonViNgoai.value==0">
        <label translate>id_donvi</label>
        <div class="control">
          <div class="input-group-prepend" dropdown>
            <button type="button" class="btn btn-block input is-primary input" dropdownToggle>
              <label *ngIf="selectedDonVis">{{selectedDonVis.label}}</label>
              <label *ngIf="!selectedDonVis">&nbsp; </label>
              <label class="dropdown-toggle dropdown-toggle-right1"></label>
            </button>
            <div class="dropdown-menu" *dropdownMenu (click)="$event.stopPropagation()">
              <p-tree [value]="donVis" selectionMode="single" [(selection)]="selectedDonVis"
                (onNodeSelect)="nodeSelectDonVi($event)"></p-tree>
            </div>
          </div>
          <div *ngIf="submitted && f.id_donvi_thucHien.errors" class="help is-danger">
            <div *ngIf="f.id_donvi_thucHien.errors.required" translate>id_donvi is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-4" *ngIf="f.isDonViNgoai.value==0 && f.id_donvi_thucHien.value ">
        <label translate>id_canbo_ThucHien</label>
        <div class="control">
          <mat-select class="form-control input is-primary" formControlName="id_canbo_ThucHien"
            [ngClass]="{ 'is-invalid': submitted && f.id_canbo_ThucHien.errors }">
            <mat-option>
              <div translate>None</div>
            </mat-option>
            <mat-option *ngFor="let canBo of canBos" [value]="canBo.value">
              {{canBo.display}}
            </mat-option>
          </mat-select>
          <div *ngIf="submitted && f.id_canbo_ThucHien.errors" class="help is-danger">
            <div *ngIf="f.id_canbo_ThucHien.errors.required" translate>id_canbo is required</div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group field">
      <label translate>ngayThucHien</label>
      <div class="control">
        <input type="date" class="form-control input is-primary" formControlName="ngayThucHien"
          [ngClass]="{ 'is-invalid': submitted && f.ngayThucHien.errors }" />
        <div *ngIf="submitted && f.ngayThucHien.errors" class="help is-danger">
          <div *ngIf="f.ngayThucHien.errors.required" translate>ngayThucHien is required</div>
        </div>
      </div>
    </div>
    <div class="form-group field">
      <label translate>ngayKy</label>
      <div class="control">
        <input type="date" class="form-control input is-primary" formControlName="ngayKy"
          [ngClass]="{ 'is-invalid': submitted && f.ngayKy.errors }" />
        <div *ngIf="submitted && f.ngayKy.errors" class="help is-danger">
          <div *ngIf="f.ngayKy.errors.required" translate>ngayKy is required</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-md-6">
        <label translate>nguoiKy</label>
        <div class="control">
          <input class="form-control input is-primary" formControlName="nguoiKy"
            [ngClass]="{ 'is-invalid': submitted && f.nguoiKy.errors }" />
          <div *ngIf="submitted && f.nguoiKy.errors" class="help is-danger">
            <div *ngIf="f.nguoiKy.errors.required" translate>nguoiKy is required</div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <label translate>nguoiKyNhay</label>
        <div class="control">
          <input class="form-control input is-primary" formControlName="nguoiKyNhay"
            [ngClass]="{ 'is-invalid': submitted && f.nguoiKyNhay.errors }" />
          <div *ngIf="submitted && f.nguoiKyNhay.errors" class="help is-danger">
            <div *ngIf="f.nguoiKyNhay.errors.required" translate>nguoiKyNhay is required</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-button type="button" (click)="onNoClick()">No</button>
    <button mat-button type="submit" cdkFocusInitial>Yes</button>
  </div>
</form>